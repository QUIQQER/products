<article class="grid-100 mobile-grid-100 grid-parent">

    <header class="page-content-header">
        <h1>{$Product->getTitle()}</h1>
        <div class="page-content-header-description">
            {$Product->getDescription()}
        </div>
    </header>

    <div class="grid-50 mobile-grid-100 grid-parent product-gallery">
        {$Gallery->create()}
    </div>

    <div class="grid-50 mobile-grid-100 grid-parent product-data">
        <div class="product-data-fields">
            {foreach $fields as $Field}
            <div class="grid-50 mobile-grid-50 grid-parent product-data-fields-title">
                {$Field->getTitle()}:
            </div>
            <div class="grid-50 mobile-grid-50 grid-parent product-data-fields-value">
                {$Field->getValue()}
            </div>
            {/foreach}
        </div>

        {if count($productAttributeList)}
        <div class="product-data-fieldlist">
            {foreach $productAttributeList as $Field}
            {if $Field->isPublic()}
            {$Field->getView()->create()}
            {/if}
            {/foreach}
        </div>
        {/if}

        <div class="product-data-price">
            {$PriceDisplay->create()}
        </div>

        <div class="product-data-actionButtons">
            {$buttonsHtml}
        </div>
    </div>


    <div class="product-data-more">
        <ul class="product-data-more-tabs" role="tablist">
            <li class="product-data-more-tabs-tab active"
                aria-controls="panelDescription" role="tab" tabindex="0" aria-selected="true"
            >
                <a href="#panelDescription">
                    Beschreibung
                </a>
            </li>

            <li class="product-data-more-tabs-tab" aria-controls="panelDetails" role="tab" tabindex="-1">
                <a href="#panelDetails">
                    Details
                </a>
            </li>

            {foreach $mediaFolders as $Field}
            <li class="product-data-more-tabs-tab" aria-controls="panelF{$Field->getId()}" role="tab" tabindex="-1">
                <a href="#panelF{$Field->getId()}">
                    {$Field->getTitle()}
                </a>
            </li>
            {/foreach}
        </ul>

        <div class="product-data-more-sheets">
            <section class="product-data-more-sheet" id="panelDescription" role="tabpanel"
                     aria-labelledby="panelDescription" tabindex="0"
            >
                {$Product->getContent()}
            </section>

            <section class="product-data-more-sheet hide" id="panelDetails" role="tabpanel"
                     aria-labelledby="panelDetails" tabindex="0" aria-hidden="true"
            >
                <div class="product-data-more-details-description">
                    {$Product->getDescription()}
                </div>

                {if count($details)}
                <table class="product-data-more-details-table">
                    {foreach $details as $Field}
                    {if is_string($Field->getValue()) || is_numeric($Field->getValue())}
                    <tr>
                        <td>
                            {$Field->getView()->create()}
                        </td>
                    </tr>
                    {else}
                    <tr>
                        <td>
                            <div class="quiqqer-product-field-title">
                                {$Field->getTitle()}
                            </div>
                            <div class="quiqqer-product-field-value">
                                ---
                            </div>
                        </td>
                    </tr>
                    {/if}
                    {/foreach}
                </table>
                {/if}
            </section>

            {foreach $mediaFolders as $Field}
            <section class="product-data-more-sheet hide" id="panelF{$Field->getId()}" role="tabpanel"
                     aria-labelledby="panelF{$Field->getId()}" tabindex="0" aria-hidden="true"
            >
                {assign var=Folder value=$Field->getMediaFolder()}
                {assign var=files value=$Folder->getChildren()}

                <table class="product-data-files-table">
                    {foreach $files as $File}
                    {if $File->isActive()}
                    <tr>
                        <td class="product-data-files-table-preview">
                            {if $MediaUtils->isImage($File)}
                            {image image=$File maxWidth=100 maxHeight=100 data-zoom="1"}
                            {else}
                            <span class="fa {$MediaUtils->getFronAwesomIconByItem($File)}"></span>
                            {/if}
                        </td>
                        <td class="product-data-files-table-title">
                            {$File->getAttribute('title')}
                        </td>
                        <td class="product-data-files-table-download">
                            <a href="{$File->getUrl()}" target="_blank">
                                <span class="fa fa-download"></span>
                            </a>
                        </td>
                    </tr>
                    {/if}
                    {foreachelse}
                    <tr>
                        <td>Keine Dateien enthalten</td>
                    </tr>
                    {/foreach}
                </table>
            </section>
            {/foreach}
        </div>

    </div>

</article>
